{"version":3,"sources":["webpack:///./templates/countrySelectList.hbs","webpack:///./templates/selectedCountry.hbs","webpack:///./js/notify.js","webpack:///./js/scrypt.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","lambda","alias3","error","refs","input","document","querySelector","selectedCountry","countrySelectList","debounce","require","onSelectCountry","event","target","nodeName","value","textContent","clearSelectedCountry","generetaSelectedCountry","countriesList","dataset","index","layout","selectedCountryTemplate","insertAdjacentHTML","innerHTML","addEventListener","val","length","searchQuery","fetch","then","response","ok","json","Error","url","status","catch","err","title","countries","selectListTemplate","processResult"],"mappings":"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","file":"main.b8ab64aa7c2489e0070f.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"country-select__list-item\\\" data-index=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"index\") || (data && lookupProperty(data,\"index\"))) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"index\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":49},\"end\":{\"line\":2,\"column\":59}}}) : helper)))\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":68}}}) : helper)))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":10}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <li class=\\\"selected-country__languages-list-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"selected-country__title--main\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":42},\"end\":{\"line\":1,\"column\":50}}}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"selected-country__wrap\\\">\\r\\n  <div class=\\\"selected-country__description\\\">\\r\\n    <p class=\\\"selected-country__title\\\">\\r\\n      Capital: <span class=\\\"selected-country__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":53},\"end\":{\"line\":5,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n    </p>\\r\\n    <p class=\\\"selected-country__title\\\">\\r\\n      Population:\\r\\n      <span class=\\\"selected-country__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":44},\"end\":{\"line\":9,\"column\":58}}}) : helper)))\n    + \"</span>\\r\\n    </p>\\r\\n    <p class=\\\"selected-country__title\\\">Languages:</p>\\r\\n    <ul class=\\\"selected-country__languages-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":6},\"end\":{\"line\":15,\"column\":16}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n  </div>\\r\\n  <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":11},\"end\":{\"line\":18,\"column\":19}}}) : helper)))\n    + \" alt=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":24},\"end\":{\"line\":18,\"column\":32}}}) : helper)))\n    + \" class=\\\"selected-country__flag\\\" width=\\\"430px\\\" height=\\\"430px\\\" />\\r\\n</div>\";\n},\"useData\":true});","import { error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nexport default error;\r\n","import error from './notify';\r\nimport selectListTemplate from '../templates/countrySelectList.hbs';\r\nimport selectedCountryTemplate from '../templates/selectedCountry.hbs';\r\n\r\nconst refs = {\r\n  input: document.querySelector('.inputCountry'),\r\n  selectedCountry: document.querySelector('.selected-country'),\r\n  countrySelectList: document.querySelector('.country-select__list'),\r\n};\r\nconst debounce = require('lodash.debounce');\r\nrefs.input.addEventListener('keyup', debounce(onChangeInput, 500));\r\n\r\nfunction fetchCountries(searchQuery) {\r\n  return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`)\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      throw new Error(`Ошибка по адресу ${url}, \r\n      статус ошибки ${response.status}!`);\r\n    })\r\n    .catch(err => {\r\n      error({\r\n        title: 'Wrong query! Please try again',\r\n      });\r\n    });\r\n}\r\n\r\nfunction onChangeInput(event) {\r\n  clearSelectList();\r\n  clearSelectedCountry();\r\n  const val = event.target.value;\r\n\r\n  if (!val.length) return;\r\n  fetchCountries(val).then(countries => processResult(countries));\r\n}\r\n\r\nfunction processResult(countries) {\r\n  if (!countries) {\r\n    error({\r\n      title: 'Wrong query! Please try again',\r\n    });\r\n    return;\r\n  }\r\n  if (countries.length === 1) {\r\n    generetaSelectedCountry(countries[0]);\r\n  } else if (countries.length > 1 && countries.length < 11) {\r\n    refs.countriesList = countries;\r\n    generateCountrySelectList(countries);\r\n  } else {\r\n    error({\r\n      title: 'To many mathches found. Please enter a more specific query!',\r\n    });\r\n  }\r\n}\r\n\r\nfunction generateCountrySelectList(data) {\r\n  const layout = selectListTemplate(data);\r\n  refs.countrySelectList.insertAdjacentHTML('beforeend', layout);\r\n  refs.countrySelectList.addEventListener('click', onSelectCountry);\r\n}\r\n\r\nfunction onSelectCountry(event) {\r\n  if (event.target.nodeName !== 'LI') {\r\n    return;\r\n  }\r\n  refs.input.value = event.target.textContent;\r\n  clearSelectedCountry();\r\n  generetaSelectedCountry(refs.countriesList[event.target.dataset.index]);\r\n}\r\n\r\nfunction generetaSelectedCountry(data) {\r\n  const layout = selectedCountryTemplate(data);\r\n  refs.selectedCountry.insertAdjacentHTML('beforeend', layout);\r\n}\r\n\r\nfunction clearSelectList() {\r\n  refs.countrySelectList.innerHTML = '';\r\n}\r\n\r\nfunction clearSelectedCountry() {\r\n  refs.selectedCountry.innerHTML = '';\r\n}\r\n"],"sourceRoot":""}